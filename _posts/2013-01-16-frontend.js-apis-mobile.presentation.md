---
    published: true
    layout: html.presentation
    title: Тренды фронтэнда.<br />Javascript APIs для мобильных устройств
    categories: [presentations]
    tags: [js, api, js api, frontend, html, interface, mdn, mozilla, w3c]
    date: 2013.01.16
---


<section markdown="1">

#Тренды фронтэнда

###Новые возможности браузеров / 4

[{{ site.author.name.en }}]({{ site.author.url }}) / [{{ site.author.twitter.name }}]({{ site.author.twitter.url }})

</section>


<section markdown="1">

## Качественный сервис. Структура

*В настоящее время &laquo;качественное&raquo; приложение (сервис) содержит в своей структуре:*

* клиентские приложения для популярных OS (iOS, Android, Windows, Linux, ...)
{ .fragment }
* расширения для популярных браузеров
{ .fragment }
* букмарклеты для популярных браузеров
{ .fragment }
* веб-клиента
{ .fragment }
* общий бэкэнд, в котором, наряду с основным функционалом, реализованы собственное api и средства интеграции с внешними сервисами
{ .fragment }

</section>


<section markdown="1">

##Качественный сервис

*Совершенно очевидно что:*

* для развития и поддержки подобного приложения требуются усилия слаженной команды разработчиков, включающей в себя специалистов с опытом разработки приложений под соответствующие платформы, одновременно обладающих опытом и знаниями в смежных областях (это как минимум знание архитектуры веб-приложений и технологий, применяемых для их реализации);
{ .fragment }
* возрастают "накладные расходы" на поддержание инфраструктуры самого процесса разработки (для каждого составляющего этой структуры требуется написание всего спектра тестов - юнит, функциональных, нагрузочных; ведение отдельного баг-трекера, и т.д. ...);
{ .fragment }
* многократно усложняется введение нового функционала в сервис (поддержка которого должна быть одновременно и единообразно реализована во всех его частях);
{ .fragment }
* подобная структура изначально расположена к появлению ошибок в следствии рассогласования взаимодействия ее составляющих, вызванных в первую очередь разнообразием клиентских приложений и разнообразием их версий на устройствах пользователей.
{ .fragment }

</section>


<section markdown="1">

##Веб-приложение

*Структура такого приложения выглядит гораздо лаконичней:*

* веб-итерфейс;
* клиентские приложения для популярных OS, расширения и букмарклеты для популярных браузеров представляют собой тривиальную "оболочку", в которую "упакован" веб-интерфейс;
* общий бэкэнд, +api, +средства интеграции с внешними сервисами.

*Очевидно,что:*  
* трудоемкость (и, как следствие, стоимость) поддержки и развития веб-приложения будет несравнимо меньше;
* исключаются практически все минусы, перечисленные выше, в силу того что при реализации всех частей используются мономорфные технологии (js, css, html), а следовательно мономорфная инфраструктура самого процесса разработки и команда разработчиков.

*Почему не используется подобная практика?*  

</section>


<section markdown="1">

##JavaScript APIs

Еще в июле 2009 года в рамках World Wide Web Consortium (W3C) была создана &laquo;[Device APIs Working Group (GAP)](http://www.w3.org/2009/dap/)&raquo;, целью которой является создание client-side API для взаимодействия веб-приложений с сервисами устройств. Некоторые из направлений разработок группы уже реализованы в браузерах.  
*Внимание!* Все примеры разработаны для [Firefox mobile beta](https://play.google.com/store/apps/details?id=org.mozilla.firefox_beta) .

</section>



<!-- Battery Status API -->

<section markdown="1">
    <h2>Battery Status API</h2>
    <p style="text-align:left">
        <em>Служит для отображения информации о состоянии батарей клиентской машины.</em><br />
        <small>Реализован с браузерным префиксом.</small>
    </p>

```js
//объект, содержащий информацию о батареях
var battery = navigator.battery ||
              navigator.webkitBattery ||
              navigator.mozBattery;

//battery.level - уровень заряда батарей (значение в диапазоне 0...1)
var onlevelchange = function(e) {
    console.warn("Battery level change: ", battery.level);
};
//levelchange - событие изменения уровня заряда
battery.addEventListener("levelchange", onlevelchange);

//battery.charging - статус заряда (true - заряжается, false - не заряжается)
var onchargingchange = function() {
    console.warn("Battery charge change: ", battery.charging);
};
//chargingchange - событие изменения статуса заряда
battery.addEventListener("chargingchange", onchargingchange);

//battery.chargingTime - оставшееся время до полного заряда
var onchargingtimechange = function() {
    console.warn("Battery charge time change: ", battery.chargingTime);
};
//chargingchange - событие изменения времени до полного заряда
battery.addEventListener("chargingtimechange", onchargingtimechange);

//battery.dischargingTime - оставшееся время до полного разряда
var ondischargingtimechange = function() {
    console.warn("Battery discharging time change: ", battery.dischargingTime);
};
//dischargingtimechange - событие изменения времени до полного разряда
battery.addEventListener("dischargingtimechange", ondischargingtimechange);
```
        <small>
        <p style="text-align:left;margin-top:10px;">
            Пример: <a href="http://davidwalsh.name/demo/battery-api.php" target="_blank">David Walsh/Battery Status API/Example</a>.
            <br />
            Источники:
            <a href="http://www.w3.org/TR/battery-status/" target="_blank">W3C Battery Status API</a>,
            <a href="https://developer.mozilla.org/en-US/docs/DOM/window.navigator.battery" target="_blank">MDN/window.navigator.battery</a>,
            <a href="http://davidwalsh.name/battery-api" target="_blank">David Walsh/Battery Status API</a>.
        </p>
        </small>
    </section>



<!-- CSS -->

<section>
    <h2>CSS</h2>
    <ul>
        <li class="fragment">Web Components</li>
        <li class="fragment">CSS Flexible Box Layout</li>
        <li class="fragment">CSS Media Query</li>
        <li class="fragment">CSS Viewport units</li>
        <li class="fragment">CSS calc()</li>
    </ul>
</section>



<!-- Итого -->

<section>
    <h1>Итого</h1>
    <p style="text-align:left;">
        Обобщая развитие веб-стандартов в сфере фронтенд-технологий (css, js, html), можно увидеть общую тенденцию разработок, конечной целью которых является становление веб-интерфейсов как стандарта де-факто в качестве интерфейсов приложений. Это подкреплено созданием и развитием <a href="http://www.chromium.org/chromium-os/" terget="_blank">Chrome OS (Chromium OS)</a>, <a href="http://www.mozilla.org/en-US/firefoxos/" terget="_blank">Firefox OS</a>.
        Уже сейчас можно воспользоваться новыми API при помощи <a href="http://modernizr.com/download/" target="_blank">Modernizr</a>.
    </p>
</section>
